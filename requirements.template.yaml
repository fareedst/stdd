# Requirements Index (YAML Database)
#
# This YAML file serves as the central index/registry for all requirements in the project.
# Each top-level key is a semantic token (e.g., REQ-STDD_SETUP).
#
# To append a new requirement:
# 1. Copy the template block at the bottom of this file (REQ-IDENTIFIER)
# 2. Paste it at the end with a blank line before it
# 3. Replace REQ-IDENTIFIER with your new token
# 4. Fill in all fields
# 5. Update the detail_file path to match your new .md file in requirements/ directory
#
# Field descriptions:
#   name: Short descriptive name of the requirement
#   category: Functional | Non-Functional | Immutable
#   priority: P0 (Critical) | P1 (Important) | P2 (Nice-to-have) | P3 (Future)
#   status: "Implemented" | "Planned" | "Template"
#   rationale: Structured explanation with why, problems_solved, benefits
#   satisfaction_criteria: List of criterion items with optional metrics
#   validation_criteria: List of validation method items with coverage details
#   traceability: Structured links to architecture, implementation, tests, code_annotations
#   related_requirements: Lists of depends_on, related_to, supersedes (YAML lists or [])
#   detail_file: Path to the detailed .md file in requirements/ directory
#   metadata: Structured metadata with created, last_updated, last_validated info

---

REQ-STDD_SETUP:
  name: STDD Methodology Setup
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "To ensure traceability of intent from requirements to code and to maintain a consistent development process"
    problems_solved:
      - "Loss of intent during development lifecycle"
      - "Difficulty tracking requirements through architecture to implementation"
      - "Inconsistent documentation practices across projects"
    benefits:
      - "Complete traceability from requirements to code"
      - "Consistent development methodology"
      - "AI-friendly documentation structure"
  satisfaction_criteria:
    - criterion: "stdd/ directory exists with proper structure"
    - criterion: "All required documentation files exist and are populated from templates"
      metric: "requirements.yaml, architecture-decisions.yaml, implementation-decisions.yaml, semantic-tokens.md, tasks.md, processes.md all present"
    - criterion: "Base files properly configured"
      metric: ".cursorrules contains STDD rules, AGENTS.md contains canonical AI agent instructions"
    - criterion: "Detail directories exist"
      metric: "requirements/, architecture-decisions/, implementation-decisions/ directories present"
  validation_criteria:
    - method: "Manual verification"
      coverage: "File existence checks for all required files and directories"
    - method: "AI agent acknowledgment"
      coverage: "Agent responds with 'Observing AI principles!' confirming rules are loaded"
    - method: "Structure validation"
      coverage: "All index files have corresponding detail directories with proper naming"
  traceability:
    architecture:
      - ARCH-STDD_STRUCTURE
    implementation:
      - IMPL-STDD_FILES
    tests:
      - Manual verification checklists
    code_annotations:
      - IMPL-STDD_FILES
      - ARCH-STDD_STRUCTURE
      - REQ-STDD_SETUP
  related_requirements:
    depends_on: []
    related_to: []
    supersedes: []
  detail_file: requirements/REQ-STDD_SETUP.md
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Restructured to v1.5.0 schema with machine-parseable fields"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"

REQ-MODULE_VALIDATION:
  name: Independent Module Validation Before Integration
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "To eliminate bugs related to code complexity by ensuring each module works correctly in isolation before combining with other modules"
    problems_solved:
      - "Integration complexity causing difficult-to-debug issues"
      - "Bugs discovered too late in the development cycle"
      - "Module contracts not properly validated before integration"
    benefits:
      - "Bugs caught early before integration"
      - "Reduced integration complexity"
      - "Clear module boundaries and contracts"
      - "Easier debugging by isolating issues to specific modules"
  satisfaction_criteria:
    - criterion: "All logical modules identified and documented with clear boundaries before development"
    - criterion: "Module interfaces and contracts defined and documented"
    - criterion: "Module validation criteria specified for each module"
      metric: "What 'validated' means is explicitly defined"
    - criterion: "Each module developed independently"
    - criterion: "Each module passes independent validation before integration"
      metric: "Unit tests with mocks, integration tests with test doubles, contract validation, edge case testing, error handling validation all passing"
    - criterion: "Module validation results documented"
    - criterion: "Integration tasks separate from module development tasks"
    - criterion: "Integration only occurs after module validation passes"
  validation_criteria:
    - method: "Manual verification"
      coverage: "Modules identified and documented before development starts"
    - method: "Automated testing"
      coverage: "Module validation tests exist and pass before integration"
    - method: "Code review"
      coverage: "Integration code references validated modules"
    - method: "Documentation review"
      coverage: "Module validation results are documented"
    - method: "Integration testing"
      coverage: "Integration tests validate combined behavior of validated modules"
  traceability:
    architecture:
      - ARCH-MODULE_VALIDATION
    implementation:
      - IMPL-MODULE_VALIDATION
    tests:
      - testModuleName_IndependentValidation_REQ_MODULE_VALIDATION
    code_annotations:
      - REQ-MODULE_VALIDATION
      - IMPL-MODULE_VALIDATION
  related_requirements:
    depends_on:
      - REQ-STDD_SETUP
    related_to: []
    supersedes: []
  detail_file: requirements/REQ-MODULE_VALIDATION.md
  metadata:
    created:
      date: 2025-01-27
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Restructured to v1.5.0 schema with machine-parseable fields"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"

# ---
# Template Record - Copy this block to create new requirements
# ---
#
# REQ-IDENTIFIER:
#   name: Requirement Name
#   category: Functional
#   priority: P1
#   status: "Planned"
#   rationale:
#     why: "Primary reason for this requirement"
#     problems_solved:
#       - "Problem 1"
#       - "Problem 2"
#     benefits:
#       - "Benefit 1"
#       - "Benefit 2"
#   satisfaction_criteria:
#     - criterion: "Criterion description 1"
#       metric: "Measurable target (optional)"
#     - criterion: "Criterion description 2"
#   validation_criteria:
#     - method: "Unit tests"
#       coverage: "All core functions"
#     - method: "Integration tests"
#       coverage: "End-to-end flows"
#     - method: "Manual testing"
#       coverage: "QA checklist"
#   traceability:
#     architecture:
#       - ARCH-IDENTIFIER
#     implementation:
#       - IMPL-IDENTIFIER
#     tests:
#       - testFeatureName_REQ_IDENTIFIER
#     code_annotations:
#       - REQ-IDENTIFIER
#   related_requirements:
#     depends_on: []
#     related_to: []
#     supersedes: []
#   detail_file: requirements/REQ-IDENTIFIER.md
#   metadata:
#     created:
#       date: YYYY-MM-DD
#       author: "agent/contributor"
#     last_updated:
#       date: YYYY-MM-DD
#       author: "agent/contributor"
#       reason: "Initial creation"
#     last_validated:
#       date: YYYY-MM-DD
#       validator: "agent/contributor"
#       result: "pass"
