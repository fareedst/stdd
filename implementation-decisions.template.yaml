# Implementation Decisions Index (YAML Database)
#
# This YAML file serves as the central index/registry for all implementation decisions in the project.
# Each top-level key is a semantic token (e.g., IMPL-MODULE_VALIDATION).
#
# To append a new implementation decision:
# 1. Copy the template block at the bottom of this file (IMPL-IDENTIFIER)
# 2. Paste it at the end with a blank line before it
# 3. Replace IMPL-IDENTIFIER with your new token
# 4. Fill in all fields
# 5. Update the detail_file path to match your new .md file in implementation-decisions/ directory
#
# Field descriptions:
#   name: Short descriptive name of the decision
#   status: Active | Deprecated | Template | Superseded
#   cross_references: List of ARCH-* and REQ-* tokens this decision implements
#   rationale: Structured explanation with why, problems_solved, benefits
#   implementation_approach: Structured approach with summary and details
#   code_locations: Structured code locations with files and functions
#   traceability: Structured links to architecture, requirements, tests, code_annotations
#   related_decisions: Lists of depends_on, supersedes, see_also (YAML lists or [])
#   detail_file: Path to the detailed .md file in implementation-decisions/ directory
#   metadata: Structured metadata with created, last_updated, last_validated info

---

IMPL-STDD_FILES:
  name: STDD File Creation
  status: Active
  cross_references:
    - ARCH-STDD_STRUCTURE
    - REQ-STDD_SETUP
  rationale:
    why: "Implements ARCH-STDD_STRUCTURE and realizes REQ-STDD_SETUP by creating the foundational STDD directory structure and files"
    problems_solved:
      - "Manual setup of STDD structure is error-prone"
      - "Inconsistent project structure across implementations"
      - "Missing required STDD files and directories"
    benefits:
      - "Automated, consistent STDD setup"
      - "All required files and directories created correctly"
      - "Easy project bootstrapping with single command"
  implementation_approach:
    summary: "Bootstrap script that creates stdd/ directory, copies template files, and sets up base files"
    details:
      - "Create stdd/ directory at project root"
      - "Copy YAML index files from templates (requirements.yaml, architecture-decisions.yaml, implementation-decisions.yaml)"
      - "Copy guide files from templates (semantic-tokens.md, tasks.md, processes.md)"
      - "Create detail subdirectories (requirements/, architecture-decisions/, implementation-decisions/)"
      - "Copy base files to project root (.cursorrules, AGENTS.md, ai-principles.md)"
  code_locations:
    files:
      - path: "copy_files.sh"
        description: "Bootstrap script that sets up STDD structure"
        lines: [1, 163]
    functions:
      - name: "setup_stdd_structure"
        file: "copy_files.sh"
        description: "Creates directories and copies template files (if implemented as function)"
  traceability:
    architecture:
      - ARCH-STDD_STRUCTURE
    requirements:
      - REQ-STDD_SETUP
    tests:
      - Manual verification checklists
    code_annotations:
      - IMPL-STDD_FILES
      - ARCH-STDD_STRUCTURE
      - REQ-STDD_SETUP
  related_decisions:
    depends_on: []
    supersedes: []
    see_also:
      - ARCH-STDD_STRUCTURE
      - REQ-STDD_SETUP
  detail_file: implementation-decisions/IMPL-STDD_FILES.md
  metadata:
    created:
      date: 2025-12-18
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Restructured to v1.5.0 schema with machine-parseable fields"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"

IMPL-MODULE_VALIDATION:
  name: Module Validation Implementation
  status: Active
  cross_references:
    - ARCH-MODULE_VALIDATION
    - REQ-MODULE_VALIDATION
  rationale:
    why: "Implements REQ-MODULE_VALIDATION requirement and ARCH-MODULE_VALIDATION strategy to ensure modules are validated independently before integration"
    problems_solved:
      - "Complexity-related bugs discovered too late"
      - "Difficult to debug integration issues"
      - "Module contracts not validated before integration"
    benefits:
      - "Bugs caught early in development cycle"
      - "Easier debugging by isolating issues to specific modules"
      - "Clear validation criteria for each module"
      - "Reduced integration complexity"
  implementation_approach:
    summary: "Five-phase approach: module identification, independent development, independent validation, documentation, and integration"
    details:
      - "Phase 1: Identify modules and document boundaries, interfaces, contracts, dependencies, validation criteria"
      - "Phase 2: Develop module independently with dependency injection"
      - "Phase 3: Validate independently with unit tests (mocked dependencies), contract validation, edge cases, error handling, integration tests with test doubles"
      - "Phase 4: Document validation results including passed tests, limitations, assumptions"
      - "Phase 5: Integrate only after validation passes, with integration tests validating combined behavior"
  code_locations:
    files:
      - path: "*_module_test.[ext]"
        description: "Module validation test files"
      - path: "*_validation_test.[ext]"
        description: "Module validation test files (alternate pattern)"
      - path: "*_integration_test.[ext]"
        description: "Integration test files"
    functions:
      - name: "testModuleName_IndependentValidation_REQ_MODULE_VALIDATION"
        file: "various test files"
        description: "Module validation test function pattern"
  traceability:
    architecture:
      - ARCH-MODULE_VALIDATION
    requirements:
      - REQ-MODULE_VALIDATION
    tests:
      - testModuleName_IndependentValidation_REQ_MODULE_VALIDATION
    code_annotations:
      - IMPL-MODULE_VALIDATION
      - REQ-MODULE_VALIDATION
  related_decisions:
    depends_on: []
    supersedes: []
    see_also:
      - ARCH-MODULE_VALIDATION
      - REQ-MODULE_VALIDATION
  detail_file: implementation-decisions/IMPL-MODULE_VALIDATION.md
  metadata:
    created:
      date: 2025-12-18
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Restructured to v1.5.0 schema with machine-parseable fields"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"

IMPL-CONFIG_STRUCT:
  name: Configuration Structure
  status: Template
  cross_references:
    - ARCH-CONFIG_STRUCTURE
    - REQ-CONFIGURATION
  rationale:
    why: "Why this configuration structure was chosen"
    problems_solved:
      - "Problem 1"
    benefits:
      - "Benefit 1"
  implementation_approach:
    summary: "Configuration structure implementation approach"
    details:
      - "Specific technical detail 1"
      - "Code structure or pattern"
      - "API design decision"
  code_locations:
    files:
      - path: "path/to/config.ext"
        description: "Configuration implementation"
    functions:
      - name: "loadConfig"
        file: "path/to/config.ext"
        description: "Configuration loading logic"
  traceability:
    architecture:
      - ARCH-CONFIG_STRUCTURE
    requirements:
      - REQ-CONFIGURATION
    tests:
      - testConfiguration_IMPL_CONFIG_STRUCT
    code_annotations:
      - IMPL-CONFIG_STRUCT
  related_decisions:
    depends_on: []
    supersedes: []
    see_also: []
  detail_file: implementation-decisions/IMPL-CONFIG_STRUCT.md
  metadata:
    created:
      date: YYYY-MM-DD
      author: "agent/contributor"
    last_updated:
      date: YYYY-MM-DD
      author: "agent/contributor"
      reason: "Initial creation"
    last_validated:
      date: YYYY-MM-DD
      validator: "agent/contributor"
      result: "pass"

IMPL-EXAMPLE_IMPLEMENTATION:
  name: Core Implementation Example
  status: Template
  cross_references:
    - ARCH-EXAMPLE_DECISION
    - REQ-EXAMPLE_FEATURE
  rationale:
    why: "Why this implementation approach was chosen"
    problems_solved:
      - "Problem 1 that implementation solves"
    benefits:
      - "Benefit 1 of implementation"
  implementation_approach:
    summary: "Main implementation approach"
    details:
      - "Specific technical detail 1"
      - "Code structure or pattern"
      - "API design decision"
  code_locations:
    files:
      - path: "path/to/implementation.ext"
        description: "Main implementation"
        lines: [10, 50]
    functions:
      - name: "exampleFunction"
        file: "path/to/implementation.ext"
        description: "What it does"
  traceability:
    architecture:
      - ARCH-EXAMPLE_DECISION
    requirements:
      - REQ-EXAMPLE_FEATURE
    tests:
      - testFeatureName_REQ_EXAMPLE_FEATURE
    code_annotations:
      - IMPL-EXAMPLE_IMPLEMENTATION
  related_decisions:
    depends_on: []
    supersedes: []
    see_also: []
  detail_file: implementation-decisions/IMPL-EXAMPLE_IMPLEMENTATION.md
  metadata:
    created:
      date: YYYY-MM-DD
      author: "agent/contributor"
    last_updated:
      date: YYYY-MM-DD
      author: "agent/contributor"
      reason: "Initial creation"
    last_validated:
      date: YYYY-MM-DD
      validator: "agent/contributor"
      result: "pass"

IMPL-ERROR_HANDLING:
  name: Error Handling Implementation
  status: Template
  cross_references:
    - ARCH-ERROR_HANDLING
    - REQ-ERROR_HANDLING
  rationale:
    why: "Why this error handling implementation was chosen"
    problems_solved:
      - "Problem 1"
    benefits:
      - "Benefit 1"
  implementation_approach:
    summary: "Error handling implementation approach"
    details:
      - "Specific error handling pattern"
      - "Error propagation strategy"
      - "Error logging and reporting"
  code_locations:
    files:
      - path: "path/to/error_handler.ext"
        description: "Error handling implementation"
    functions:
      - name: "handleError"
        file: "path/to/error_handler.ext"
        description: "Error handling logic"
  traceability:
    architecture:
      - ARCH-ERROR_HANDLING
    requirements:
      - REQ-ERROR_HANDLING
    tests:
      - testErrorHandling_IMPL_ERROR_HANDLING
    code_annotations:
      - IMPL-ERROR_HANDLING
  related_decisions:
    depends_on: []
    supersedes: []
    see_also: []
  detail_file: implementation-decisions/IMPL-ERROR_HANDLING.md
  metadata:
    created:
      date: YYYY-MM-DD
      author: "agent/contributor"
    last_updated:
      date: YYYY-MM-DD
      author: "agent/contributor"
      reason: "Initial creation"
    last_validated:
      date: YYYY-MM-DD
      validator: "agent/contributor"
      result: "pass"

IMPL-TESTING:
  name: Testing Implementation
  status: Template
  cross_references:
    - ARCH-TESTING_STRATEGY
  rationale:
    why: "Why this testing implementation was chosen"
    problems_solved:
      - "Problem 1"
    benefits:
      - "Benefit 1"
  implementation_approach:
    summary: "Testing implementation approach"
    details:
      - "Unit testing implementation details"
      - "Integration testing implementation details"
      - "Test utilities and helpers"
      - "Test coverage tools"
  code_locations:
    files:
      - path: "*_test.ext"
        description: "Test files"
    functions:
      - name: "setupTestEnvironment"
        file: "test_helpers.ext"
        description: "Test setup logic"
  traceability:
    architecture:
      - ARCH-TESTING_STRATEGY
    requirements:
      - REQ-*
    tests:
      - All test files implement this strategy
    code_annotations:
      - IMPL-TESTING
  related_decisions:
    depends_on: []
    supersedes: []
    see_also: []
  detail_file: implementation-decisions/IMPL-TESTING.md
  metadata:
    created:
      date: YYYY-MM-DD
      author: "agent/contributor"
    last_updated:
      date: YYYY-MM-DD
      author: "agent/contributor"
      reason: "Initial creation"
    last_validated:
      date: YYYY-MM-DD
      validator: "agent/contributor"
      result: "pass"

IMPL-CODE_STYLE:
  name: Code Style and Conventions
  status: Template
  cross_references: []
  rationale:
    why: "Why these code style conventions were chosen"
    problems_solved:
      - "Problem 1"
    benefits:
      - "Benefit 1 - improved maintainability"
  implementation_approach:
    summary: "Code style and conventions implementation"
    details:
      - "Naming conventions"
      - "Code formatting rules"
      - "Documentation standards"
      - "Code organization patterns"
  code_locations:
    files:
      - path: ".editorconfig"
        description: "Editor configuration"
      - path: ".prettierrc"
        description: "Code formatter configuration (or similar)"
  traceability:
    architecture:
      - ARCH-*
    requirements:
      - REQ-MAINTAINABILITY
    tests:
      - Code style tests or linter checks
    code_annotations:
      - All source files follow these conventions
  related_decisions:
    depends_on: []
    supersedes: []
    see_also: []
  detail_file: implementation-decisions/IMPL-CODE_STYLE.md
  metadata:
    created:
      date: YYYY-MM-DD
      author: "agent/contributor"
    last_updated:
      date: YYYY-MM-DD
      author: "agent/contributor"
      reason: "Initial creation"
    last_validated:
      date: YYYY-MM-DD
      validator: "agent/contributor"
      result: "pass"

# ---
# Template Record - Copy this block to create new implementation decisions
# ---
#
# IMPL-IDENTIFIER:
#   name: Implementation Title
#   status: Active
#   cross_references:
#     - ARCH-RELATED_ARCHITECTURE
#     - REQ-RELATED_REQUIREMENT
#   rationale:
#     why: "Primary reason for this implementation approach"
#     problems_solved:
#       - "Problem 1"
#       - "Problem 2"
#     benefits:
#       - "Benefit 1"
#       - "Benefit 2"
#   implementation_approach:
#     summary: "High-level description of implementation"
#     details:
#       - "Specific technical detail 1"
#       - "Code structure or pattern"
#       - "API design decision"
#   code_locations:
#     files:
#       - path: "path/to/file.ext"
#         description: "Description of what's implemented there"
#         lines: [10, 50]  # optional line range
#     functions:
#       - name: "exampleFunction"
#         file: "path/to/file.ext"
#         description: "What it does"
#   traceability:
#     architecture:
#       - ARCH-IDENTIFIER
#     requirements:
#       - REQ-IDENTIFIER
#     tests:
#       - testFeatureName_REQ_IDENTIFIER
#     code_annotations:
#       - IMPL-IDENTIFIER
#   related_decisions:
#     depends_on: []
#     supersedes: []
#     see_also: []
#   detail_file: implementation-decisions/IMPL-IDENTIFIER.md
#   metadata:
#     created:
#       date: YYYY-MM-DD
#       author: "agent/contributor"
#     last_updated:
#       date: YYYY-MM-DD
#       author: "agent/contributor"
#       reason: "Initial creation"
#     last_validated:
#       date: YYYY-MM-DD
#       validator: "agent/contributor"
#       result: "pass"
